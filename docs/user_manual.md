# Re:aniname 用户操作手册

## 1. 简介
欢迎使用 **Re:aniname**。这是一个智能媒体整理工具，能够自动将您下载的混乱文件重命名为 Emby、Plex 等媒体服务器完美支持的格式。

## 2. 快速开始

### 第一步：访问系统
在浏览器中输入部署地址 (默认: `http://localhost:3000`)。

### 第二步：系统设置
首次使用请进入 **"设置" (Settings)** 页面：
1. **AI 提供商**：选择 OpenAI、Anthropic 或其他兼容服务。
2. **API Key**：输入您的 API 密钥。
3. **模型选择**：推荐使用 `gpt-3.5-turbo` (经济) 或 `gpt-4` (高精度)。
4. **媒体库路径**：设置您的媒体文件根目录。

### 第三步：开始整理
1. 进入 **"任务" (Tasks)** 页面。
2. 输入需要整理的文件夹路径。
3. 点击 **"扫描" (Scan)** 按钮。
4. 系统将列出所有发现的媒体文件。

## 3. 功能详解

### 3.1 文件扫描与识别
- 系统会自动过滤非视频文件（如 txt, exe）。
- 扫描完成后，点击 **"AI 识别"**，系统将分析文件名。
- **预览模式**：识别完成后，您可以看到 "原文件名" -> "新文件名" 的对比预览。

### 3.2 批量处理
- 您可以勾选列表中的多个文件，进行批量重命名。
- 支持 **"一键全部应用"**，处理整个列表。

### 3.3 输出模式 (硬链接/移动)
在提交处理任务前，您可以选择输出模式，这对 PT 用户非常重要：
- **硬链接 (Hard Link)**：(推荐) 
  - 在目标目录创建指向源文件的新入口。
  - **效果**：源文件和新文件共享同一份磁盘数据。删除其中任何一个，数据依然存在；只有两个都删除，数据才会释放。
  - **适用**：需要保持源文件进行 PT 做种，同时希望 Emby 能识别完美文件名的场景。
  - **注意**：源目录和目标目录必须在**同一个磁盘分区**。
- **移动 (Move)**：直接将文件移动到新位置。
- **复制 (Copy)**：复制一份完整文件（占用双倍空间）。

### 3.4 冲突解决
- 如果重命名后的文件已存在，系统会提示冲突。
- 您可以选择：
  - **覆盖**：删除旧文件，使用新文件。
  - **跳过**：保留旧文件，不处理新文件。
  - **智能重命名**：自动添加 `(1)` 等后缀。

### 3.4 日志查看
- 在 **"日志" (Logs)** 页面，您可以查看所有的历史操作记录。
- 如果发生错误，日志中会包含详细的错误原因，方便排查。

## 4. 常见问题 (FAQ)

**Q: 识别结果不准确怎么办？**
A: 可以在预览界面手动修改识别出的元数据（如年份、剧集号），然后再次生成文件名。

**Q: 支持哪些文件格式？**
A: 支持所有主流视频格式，包括 mp4, mkv, avi, rmvb, iso 等。

**Q: 会修改文件内容吗？**
A: 不会。系统仅修改文件名和移动文件位置，绝对不会修改视频内容本身。

**Q: 处理速度如何？**
A: 取决于您的 AI 接口响应速度。通常每个文件处理耗时在 1-3 秒左右。
